---
title: Open API for Better Query
description: Open API reference for Better Query.
---

This is a plugin that provides an Open API reference for Better Query. It shows all endpoints added by plugins and the core. It also provides a way to test the endpoints. It uses [Scalar](https://scalar.com/) to display the Open API reference.


<Callout>
This plugin is still in the early stages of development. We are working on adding more features to it and filling in the gaps.
</Callout>


## Installation

<Steps>
    <Step>
    ### Add the plugin to your **query** config
    ```ts title="query.ts"
    import { betterQuery } from "better-query"
    import { openAPI } from "better-query/plugins"

    export const query = betterQuery({
        plugins: [ // [!code highlight]
            openAPI(), // [!code highlight]
        ] // [!code highlight]
    })
    ```
    </Step>
    <Step>
    ### Navigate to `/api/query/reference` to view the Open API reference
    
    Each plugin endpoints are grouped by the plugin name. The core endpoints are grouped under the `Default` group. And Model schemas are grouped under the `Models` group.

    ![Open API reference](/open-api-reference.png)
    </Step>
</Steps>



## Usage 

The Open API reference is generated using the [OpenAPI 3.0](https://swagger.io/specification/) specification. You can use the reference to generate client libraries, documentation, and more.

The reference is generated using the [Scalar](https://scalar.com/) library. Scalar provides a way to view and test the endpoints. You can test the endpoints by clicking on the `Try it out` button and providing the required parameters.

![Open API reference](/open-api-reference.png)

### Generated Schema

To get the generated Open API schema directly as JSON, you can do `query.api.generateOpenAPISchema()`. This will return the Open API schema as a JSON object.

```ts
import { query } from "~/lib/query"

const openAPISchema = await query.api.generateOpenAPISchema()
console.log(openAPISchema)
```

### Using Scalar with Multiple Sources

If you're using Scalar for your API documentation, you can add Better Query as an additional source alongside your main API:

When using Hono with Scalar for OpenAPI documentation, you can integrate Better Query by adding it as a source:

```ts
app.get("/docs", Scalar({
  pageTitle: "API Documentation", 
  sources: [
    { url: "/api/open-api", title: "API" },
    // Better Query schema generation endpoint
    { url: "/api/query/open-api/generate-schema", title: "Query" },
  ],
}));
```

## Configuration

`path` - The path where the Open API reference is served. Default is `/api/query/reference`. You can change it to any path you like, but keep in mind that it will be appended to the base path of your query server.

`disableDefaultReference` - If set to `true`, the default Open API reference UI by Scalar will be disabled. Default is `false`.

This allows you to display both your application's API and Better Query's endpoints in a unified documentation interface.

`theme` - Allows you to change the theme of the OpenAPI reference page. Default is `default`.
