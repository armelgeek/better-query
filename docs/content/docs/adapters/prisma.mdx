---
title: Prisma
description: Integrate Better Query with Prisma.
---

Prisma ORM is an open-source database toolkit that simplifies database access and management in applications by providing a type-safe query builder and an intuitive data modeling interface.
Read more [here](https://www.prisma.io/).

## Example Usage

Make sure you have Prisma installed and configured.
Then, you can use the Prisma adapter to connect to your database.

```ts title="query.ts"
import { betterQuery } from "better-query";
import { prismaAdapter } from "better-query/adapters/prisma";
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

export const query = betterQuery({
  database: prismaAdapter(prisma, {
    provider: "sqlite",
  }),
});
```

<Callout type="warning">
  If you have configured a custom output directory in your `schema.prisma` file (e.g., `output = "../src/generated/prisma"`), make sure to import the Prisma client from that location instead of `@prisma/client`. Learn more about custom output directories in the [Prisma documentation](https://www.prisma.io/docs/guides/nextjs#21-install-prisma-orm-and-create-your-first-models).
</Callout>

## Schema generation & migration

The [Better Query CLI](/docs/concepts/cli) allows you to generate or migrate
your database schema based on your Better Query configuration and plugins.

<table>
  <thead>
    <tr className="border-b">
      <th>
        <p className="font-bold text-[16px] mb-1">Prisma Schema Generation</p>
      </th>
      <th>
        <p className="font-bold text-[16px] mb-1">Prisma Schema Migration</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr className="h-10">
      <td>✅ Supported</td>
      <td>❌ Not Supported</td>
    </tr>
  </tbody>
</table>

```bash title="Schema Generation"
npx @better-query/cli@latest generate
```

## Custom Operations

The Prisma adapter includes native custom operations that leverage Prisma's advanced features like transactions, native upserts, and aggregations.

```typescript
// Example: Transaction with multiple operations
const result = await query.customOperation('transaction', {
  operations: [
    { 
      model: 'user', 
      operation: 'create', 
      data: { name: 'John', email: 'john@example.com' } 
    },
    { 
      model: 'product', 
      operation: 'update', 
      data: { where: { id: '1' }, data: { stock: 10 } } 
    }
  ]
});

// Example: Upsert with relations
const user = await query.customOperation('upsert', {
  model: 'user',
  where: { email: 'john@example.com' },
  update: { lastLogin: new Date() },
  create: {
    email: 'john@example.com',
    name: 'John',
    profile: {
      create: { bio: 'Welcome!' }
    }
  },
  include: { profile: true }
});
```

Learn more about all available custom operations in the [Custom Operations Guide](/docs/guides/custom-operations).

## Additional Information

If you're looking for performance improvements or tips, take a look at our guide to <Link href="/docs/guides/optimizing-for-performance">performance optimizations</Link>.
