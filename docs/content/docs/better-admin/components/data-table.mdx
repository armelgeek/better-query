---
title: DataTable
description: Feature-rich table component with sorting, filtering, and pagination
---

# DataTable

The DataTable component is a feature-rich table for displaying lists of records. It includes:

- Sortable headers with tooltips
- Support for custom renderers and field components
- Row click navigation (show/edit)
- Expandable rows
- Row selection & bulk actions toolbar
- Column visibility & reordering
- Pagination
- Conditional row and cell classes
- Sticky headers

It leverages shadcn/ui's [Table](https://ui.shadcn.com/docs/components/table) component for the base markup and styling.

## Usage

Use `<DataTable>` inside a `<List>` component or with better-query directly:

```tsx
import { List, DataTable, ReferenceField, EditButton } from '@/components/admin';

export const PostList = () => (
  <List>
    <DataTable>
      <DataTable.Col source="id" />
      <DataTable.Col label="User">
        <ReferenceField source="user_id" reference="users" />
      </DataTable.Col>
      <DataTable.Col source="title" />
      <DataTable.Col source="published_at" />
      <DataTable.Col>
        <EditButton />
      </DataTable.Col>
    </DataTable>
  </List>
);
```

## Installation

```bash title="Terminal"
npx better-admin add data-table
```

## With better-query

Use DataTable directly with better-query hooks:

```tsx
import { useBetterQuery } from "better-admin";
import { query } from "@/lib/query";
import { DataTable } from "@/components/admin/data-table";

export function UsersTable() {
  const { data, isLoading } = useBetterQuery({
    resource: "users",
    queryClient: query,
  });

  if (isLoading) return <div>Loading...</div>;

  return (
    <DataTable data={data}>
      <DataTable.Col source="id" />
      <DataTable.Col source="name" />
      <DataTable.Col source="email" />
      <DataTable.Col source="role" />
    </DataTable>
  );
}
```

## Columns

Each `<DataTable.Col>` child defines a column. You can specify:

- `source`: The field name from your data
- `label`: Column header label
- `sortable`: Whether the column can be sorted
- `render`: Custom render function

```tsx
<DataTable>
  <DataTable.Col 
    source="name" 
    label="Full Name"
    sortable 
  />
  <DataTable.Col 
    source="status"
    render={(value) => (
      <Badge variant={value === 'active' ? 'success' : 'secondary'}>
        {value}
      </Badge>
    )}
  />
  <DataTable.Col source="created_at">
    <DateField />
  </DataTable.Col>
</DataTable>
```

## Props

### DataTable Props

| Prop | Required | Type | Default | Description |
|------|----------|------|---------|-------------|
| `data` | Optional | `Record[]` | from context | Array of records to display |
| `bulkActionButtons` | Optional | `ReactNode` | default buttons | Custom bulk action buttons |
| `expand` | Optional | `ReactNode` | - | Content for expandable rows |
| `rowClick` | Optional | `string \| false \| function` | `'edit'` | Action on row click: 'edit', 'show', false, or custom function |
| `rowSx` | Optional | `(record) => object` | - | Function returning conditional styles for rows |
| `size` | Optional | `'sm' \| 'md' \| 'lg'` | `'md'` | Table size |
| `empty` | Optional | `ReactNode` | default message | Content when no records |

### DataTable.Col Props

| Prop | Required | Type | Default | Description |
|------|----------|------|---------|-------------|
| `source` | Optional | `string` | - | Field name to display |
| `label` | Optional | `string` | humanized source | Column header label |
| `sortable` | Optional | `boolean` | `true` | Whether column is sortable |
| `render` | Optional | `(value, record) => ReactNode` | - | Custom render function |
| `children` | Optional | `ReactNode` | - | Field component to render |
| `cellClassName` | Optional | `string \| function` | - | CSS class for cells |
| `headerClassName` | Optional | `string` | - | CSS class for header |

## Sorting

Columns are sortable by default. Click on a column header to sort:

```tsx
<DataTable defaultSort={{ field: 'created_at', order: 'DESC' }}>
  <DataTable.Col source="name" sortable />
  <DataTable.Col source="email" sortable />
  <DataTable.Col source="created_at" sortable />
</DataTable>
```

Disable sorting on specific columns:

```tsx
<DataTable.Col source="actions" sortable={false}>
  <EditButton />
</DataTable.Col>
```

## Row Selection & Bulk Actions

Enable row selection for bulk operations:

```tsx
import { DataTable, BulkDeleteButton } from '@/components/admin';

<DataTable
  bulkActionButtons={
    <>
      <BulkDeleteButton />
      <BulkExportButton />
    </>
  }
>
  <DataTable.Col source="id" />
  <DataTable.Col source="name" />
  <DataTable.Col source="email" />
</DataTable>
```

Custom bulk actions:

```tsx
const CustomBulkActions = () => {
  const { selectedIds } = useListContext();
  
  const handleBulkAction = () => {
    // Process selectedIds
  };

  return (
    <Button onClick={handleBulkAction}>
      Process {selectedIds.length} items
    </Button>
  );
};
```

## Expandable Rows

Add expandable content to rows:

```tsx
<DataTable
  expand={
    <div className="p-4">
      <SimpleShowLayout>
        <TextField source="description" />
        <TextField source="notes" />
      </SimpleShowLayout>
    </div>
  }
>
  <DataTable.Col source="id" />
  <DataTable.Col source="title" />
</DataTable>
```

## Column Visibility

Users can toggle column visibility with the ColumnsButton:

```tsx
import { DataTable, ColumnsButton } from '@/components/admin';

<List actions={<ColumnsButton />}>
  <DataTable>
    <DataTable.Col source="id" />
    <DataTable.Col source="name" />
    <DataTable.Col source="email" />
  </DataTable>
</List>
```

## Conditional Styling

Apply conditional styles to rows and cells:

```tsx
<DataTable
  rowSx={(record) => ({
    backgroundColor: record.status === 'inactive' ? '#f5f5f5' : 'white',
  })}
>
  <DataTable.Col 
    source="status"
    cellClassName={(value) => 
      value === 'active' ? 'text-green-600' : 'text-gray-400'
    }
  />
</DataTable>
```

## Custom Cell Renderers

### With render prop

```tsx
<DataTable.Col
  source="price"
  render={(value) => `$${value.toFixed(2)}`}
/>
```

### With Field components

```tsx
import { TextField, DateField, BooleanField } from '@/components/admin';

<DataTable>
  <DataTable.Col source="name">
    <TextField />
  </DataTable.Col>
  <DataTable.Col source="created_at">
    <DateField />
  </DataTable.Col>
  <DataTable.Col source="is_active">
    <BooleanField />
  </DataTable.Col>
</DataTable>
```

## Reference Fields

Display related data from other resources:

```tsx
import { ReferenceField, ReferenceArrayField } from '@/components/admin';

<DataTable>
  <DataTable.Col source="title" />
  <DataTable.Col label="Author">
    <ReferenceField source="author_id" reference="users">
      <TextField source="name" />
    </ReferenceField>
  </DataTable.Col>
  <DataTable.Col label="Categories">
    <ReferenceArrayField source="category_ids" reference="categories">
      <SingleFieldList>
        <BadgeField source="name" />
      </SingleFieldList>
    </ReferenceArrayField>
  </DataTable.Col>
</DataTable>
```

## Empty State

Customize the empty state when no records are found:

```tsx
<DataTable
  empty={
    <div className="text-center py-8">
      <p className="text-muted-foreground">No posts found</p>
      <CreateButton />
    </div>
  }
>
  {/* columns */}
</DataTable>
```

## Sticky Headers

Headers are sticky by default for better scrolling:

```tsx
<DataTable className="max-h-[600px] overflow-auto">
  {/* Long list of columns */}
</DataTable>
```

## Integration with better-query

DataTable works seamlessly with better-query:

```tsx
import { useBetterQuery } from "better-admin";
import { query } from "@/lib/query";

export function ProductsTable() {
  const { data, isLoading, pagination, setPagination, sorting, setSorting } = 
    useBetterQuery({
      resource: "products",
      queryClient: query,
      pagination: { page: 1, perPage: 10 },
      sort: { field: 'name', order: 'ASC' },
    });

  return (
    <DataTable
      data={data}
      isLoading={isLoading}
      pagination={pagination}
      onPaginationChange={setPagination}
      sorting={sorting}
      onSortingChange={setSorting}
    >
      <DataTable.Col source="name" />
      <DataTable.Col source="price" />
      <DataTable.Col source="stock" />
    </DataTable>
  );
}
```

## Related Components

- [List](/docs/better-admin/components/list) - Container for DataTable
- [ColumnsButton](/docs/better-admin/components/columns-button) - Column visibility toggle
- [BulkDeleteButton](/docs/better-admin/components/bulk-delete-button) - Bulk delete action
- [ListPagination](/docs/better-admin/components/list-pagination) - Pagination controls

## Next Steps

- [Learn about Field Components](/docs/better-admin/components/fields)
- [Configure Pagination](/docs/better-admin/components/list-pagination)
- [Add Bulk Actions](/docs/better-admin/components/bulk-actions)
