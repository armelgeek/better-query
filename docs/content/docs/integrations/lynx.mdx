---
title: Lynx Integration
description: Integrate Better Query with Lynx cross-platform framework.
---

This integration guide is for using Better Query with [Lynx](https://lynxjs.org), a cross-platform rendering framework that enables developers to build applications for Android, iOS, and Web platforms with native rendering performance.

Before you start, make sure you have a Better Query instance configured. If you haven't done that yet, check out the [installation](/docs/installation).

## Installation

Install Better Query and the Lynx React dependency:

```package-install
better-query @lynx-js/react
```

## Create Client Instance

Import `createAuthClient` from `better-query/lynx` to create your client instance:

```ts title="lib/query-client.ts"
import { createAuthClient } from "better-query/lynx"

export const queryClient = createAuthClient({
    baseURL: "http://localhost:3000" // The base URL of your query server
})
```

## Usage

The Lynx client provides the same API as other Better Query clients, with optimized integration for Lynx's reactive system.

### Authentication Methods

```ts
import { queryClient } from "./lib/query-client"

// Sign in with email and password
await queryClient.signIn.email({
    email: "test@user.com",
    password: "password1234"
})

// Sign up
await queryClient.signUp.email({
    email: "test@user.com", 
    password: "password1234",
    name: "John Doe"
})

// Sign out
await queryClient.signOut()
```

### Hooks

The Lynx client includes reactive hooks that integrate seamlessly with Lynx's component system:

#### useSession

```tsx title="components/user.tsx"
import { queryClient } from "../lib/query-client"

export function User() {
    const {
        data: session,
        isPending, // loading state
        error // error object 
    } = queryClient.useSession()

    if (isPending) return <div>Loading...</div>
    if (error) return <div>Error: {error.message}</div>

    return (
        <div>
            {session ? (
                <div>
                    <p>Welcome, {session.user.name}!</p>
                    <button onClick={() => queryClient.signOut()}>
                        Sign Out
                    </button>
                </div>
            ) : (
                <button onClick={() => queryClient.signIn.social({
                    provider: 'github'
                })}>
                    Sign In with GitHub
                </button>
            )}
        </div>
    )
}
```

### Store Integration

The Lynx client uses [nanostores](https://github.com/nanostores/nanostores) for state management and provides a `useStore` hook for accessing reactive state:

```tsx title="components/session-info.tsx"
import { useStore } from "better-query/lynx"
import { queryClient } from "../lib/query-client"

export function SessionInfo() {
    // Access the session store directly
    const session = useStore(queryClient.$store.session)
    
    return (
        <div>
            {session && (
                <pre>{JSON.stringify(session, null, 2)}</pre>
            )}
        </div>
    )
}
```

### Advanced Store Usage

You can use the store with selective key watching for optimized re-renders:

```tsx title="components/optimized-user.tsx"
import { useStore } from "better-query/lynx"
import { queryClient } from "../lib/query-client"

export function OptimizedUser() {
    // Only re-render when specific keys change
    const session = useStore(queryClient.$store.session, {
        keys: ['user.name', 'user.email'] // Only watch these specific keys
    })
    
    return (
        <div>
            {session?.user && (
                <div>
                    <h2>{session.user.name}</h2>
                    <p>{session.user.email}</p>
                </div>
            )}
        </div>
    )
}
```

## Plugin Support

The Lynx client supports all Better Query plugins:

```ts title="lib/query-client.ts"
import { createAuthClient } from "better-query/lynx"
import { magicLinkClient } from "better-query/client/plugins"

const queryClient = createAuthClient({
    plugins: [
        magicLinkClient()
    ]
})

// Use plugin methods
await queryClient.signIn.magicLink({
    email: "test@email.com"
})
```

## Error Handling

Error handling works the same as other Better Query clients:

```tsx title="components/login-form.tsx"
import { queryClient } from "../lib/query-client"

export function LoginForm() {
    const signIn = async (email: string, password: string) => {
        const { data, error } = await queryClient.signIn.email({
            email,
            password
        })
        
        if (error) {
            console.error('Login failed:', error.message)
            return
        }
        
        console.log('Login successful:', data)
    }
    
    return (
        <form onSubmit={(e) => {
            e.preventDefault()
            const formData = new FormData(e.target)
            signIn(formData.get('email'), formData.get('password'))
        }}>
            <input name="email" type="email" placeholder="Email" />
            <input name="password" type="password" placeholder="Password" />
            <button type="submit">Sign In</button>
        </form>
    )
}
```

## Features

The Lynx client provides:

- **Cross-Platform Support**: Works across Android, iOS, and Web platforms
- **Optimized Performance**: Built specifically for Lynx's reactive system
- **Nanostores Integration**: Uses nanostores for efficient state management  
- **Selective Re-rendering**: Watch specific store keys to minimize unnecessary updates
- **Full API Compatibility**: All Better Query methods and plugins work seamlessly
- **TypeScript Support**: Full type safety with TypeScript inference

The Lynx integration maintains all the features and benefits of Better Query while providing optimal performance and developer experience within Lynx's cross-platform ecosystem.